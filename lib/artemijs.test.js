Array.prototype.get=function(index){return this[index]};Array.prototype.set=function(index,value){this[index]=value};Math.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:(r&3|8);return v.toString(16)})};Object.prototype.getClass=function(){return this.constructor.name};(function(e){if("function"==typeof bootstrap){bootstrap("artemijs",e)}else{if("object"==typeof exports){module.exports=e()}else{if("function"==typeof define&&define.amd){define(e)}else{if("undefined"!=typeof ses){if(!ses.ok()){return}ses.makeArtemiJS=e}else{"undefined"!=typeof window?window.ArtemiJS=e():global.ArtemiJS=e()}}}}})(function(){var define,ses,bootstrap,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a){return a(o,!0)}if(i){return i(o,!0)}throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++){s(r[o])}return s})({1:[function(require,module,exports){(function(){var ArtemiJS={version:0.1,source:"https://github.com/cojack/artemijs",license:"GPLv2",env:2};ArtemiJS.Managers={GroupManager:require("./managers/GroupManager"),PlayerManager:require("./managers/PlayerManager"),TagManager:require("./managers/TagManager"),TeamManager:require("./managers/TeamManager")};ArtemiJS.Systems={DelayedEntityProcessingSystem:require("./systems/DelayedEntityProcessingSystem"),EntityProcessingSystem:require("./systems/EntityProcessingSystem"),IntervalEntityProcessingSystem:require("./systems/IntervalEntityProcessingSystem"),IntervalEntitySystem:require("./systems/IntervalEntitySystem"),VoidEntitySystem:require("./systems/VoidEntitySystem")};ArtemiJS.Utils={Bag:require("./utils/Bag"),BitSet:require("./utils/BitSet"),HashMap:require("./utils/HashMap")};ArtemiJS.Aspect=require("./Aspect");ArtemiJS.Component=require("./Component");ArtemiJS.ComponentManager=require("./ComponentManager");ArtemiJS.ComponentMapper=require("./ComponentMapper");ArtemiJS.ComponentType=require("./ComponentType");ArtemiJS.Entity=require("./Entity");ArtemiJS.EntityManager=require("./EntityManager");ArtemiJS.EntityObserver=require("./EntityObserver");ArtemiJS.EntitySystem=require("./EntityObserver");ArtemiJS.Manager=require("./Manager");ArtemiJS.World=require("./World");module.exports=ArtemiJS})()},{"./Aspect":2,"./Component":3,"./ComponentManager":4,"./ComponentMapper":5,"./ComponentType":6,"./Entity":7,"./EntityManager":8,"./EntityObserver":9,"./Manager":11,"./World":12,"./managers/GroupManager":13,"./managers/PlayerManager":14,"./managers/TagManager":15,"./managers/TeamManager":16,"./systems/DelayedEntityProcessingSystem":17,"./systems/EntityProcessingSystem":18,"./systems/IntervalEntityProcessingSystem":19,"./systems/IntervalEntitySystem":20,"./systems/VoidEntitySystem":21,"./utils/Bag":22,"./utils/BitSet":23,"./utils/HashMap":24}],2:[function(require,module,exports){(function(){var BitSet=require("./utils/BitSet"),ComponentType=require("./ComponentType");var Aspect=function Aspect(){var allSet=new BitSet(),exclusionSet=new BitSet(),oneSet=new BitSet();this.getAllSet=function(){return allSet};this.getExclusionSet=function(){return exclusionSet};this.getOneSet=function(){return oneSet};this.all=function(type){allSet.set(ComponentType.getIndexFor(type));var len=arguments.length;while(len--){allSet.set(ComponentType.getIndexFor(arguments[len]))}return this};this.exclude=function(type){exclusionSet.set(ComponentType.getIndexFor(type));var len=arguments.length;while(len--){exclusionSet.set(ComponentType.getIndexFor(arguments[len]))}return this};this.one=function(type){oneSet.set(ComponentType.getIndexFor(type));var len=arguments.length;while(len--){oneSet.set(ComponentType.getIndexFor(arguments[len]))}return this};this.getAspectForAll=function(type){var aspect=new Aspect();aspect.all(type,arguments);return aspect};this.getAspectForOne=function(type){var aspect=new Aspect();aspect.one(type,arguments);return aspect}};Aspect.getEmpty=function(){return new Aspect()};module.exports=Aspect})()},{"./ComponentType":6,"./utils/BitSet":23}],3:[function(require,module,exports){(function(){var Component=function Component(){};module.exports=Component})()},{}],4:[function(require,module,exports){(function(){var Bag=require("./utils/Bag"),Manager=require("./Manager");var ComponentManager=function ComponentManager(){Manager.call(this);var componentsByType=new Bag(),deleted=new Bag();this.initialize=function(){};var removeComponentsOfEntity=function(entity){var componentBits=entity.getComponentBits();for(var i=componentBits.nextSetBit(0);i>=0;i=componentBits.nextSetBit(i+1)){componentsByType.get(i).set(entity.getId(),null)}componentBits.clear()};this.addComponent=function(entity,type,component){var components=componentsByType.get(type.getIndex());if(components===null){components=[];componentsByType.set(type.getIndex(),components)}components.set(entity.getId(),component);entity.getComponentBits().set(type.getIndex())};this.removeComponent=function(entity,type){if(entity.getComponentBits().get(type.getIndex())){componentsByType.get(type.getIndex()).set(entity.getId(),null);entity.getComponentBits().clear(type.getIndex())}};this.getComponentsByType=function(type){var components=componentsByType.get(type.getIndex());if(components===null){components=new Bag();componentsByType.set(type.getIndex(),components)}return components};this.getComponent=function(entity,type){var components=componentsByType.get(type.getIndex());if(components!==null){return components.get(entity.getId())}return null};this.getComponentsFor=function(entity,fillBag){var componentBits=entity.getComponentBits();for(var i=componentBits.nextSetBit(0);i>=0;i=componentBits.nextSetBit(i+1)){fillBag.add(componentsByType.get(i).get(entity.getId()))}return fillBag};this.deleted=function(entity){deleted.add(entity)};this.clean=function(){if(deleted.size()>0){for(var i=0;deleted.size()>i;i++){removeComponentsOfEntity(deleted.get(i))}deleted.clear()}}};ComponentManager.prototype=Object.create(Manager.prototype);module.exports=ComponentManager})()},{"./Manager":11,"./utils/Bag":22}],5:[function(require,module,exports){(function(){var Component=require("./Component"),ComponentType=require("./ComponentType");var ComponentMapper=function ComponentMapper(_type,_world){Component.call(this);var type=ComponentType.getTypeFor(_type),components=_world.getComponentManager().getComponentsByType(type);this.get=function(entity){return components.get(entity.getId())};this.getSafe=function(entity){if(components.isIndexWithinBounds(entity.getId())){return components.get(entity.getId())}return null};this.has=function(entity){return this.getSafe(entity)!==null}};ComponentMapper.getFor=function(type,world){return new ComponentMapper(type,world)};ComponentMapper.prototype=Object.create(Component.prototype);module.exports.ComponentMapper=ComponentMapper})()},{"./Component":3,"./ComponentType":6}],6:[function(require,module,exports){(function(){var HashMap=require("./utils/HashMap");var ComponentType=(function ComponentType(){var type,INDEX=0,index,componentTypes=new HashMap();function Constructor(_type){this.index=INDEX++;this.type=_type}return{index:0,type:null,getIndex:function(){return this.index},getFor:function(component){var _type=componentTypes.get(component);if(_type===null){_type=Constructor.call(this,_type);componentTypes.put(component,_type)}return _type},getIndexFor:function(component){return this.getTypeFor(component).getIndex()},toString:function(){return"ComponentType["+type.getSimpleName()+"] ("+index+")"}}})();module.exports=ComponentType})()},{"./utils/HashMap":24}],7:[function(require,module,exports){(function(){var BitSet=require("./utils/BitSet"),ComponentType=require("./ComponentType");var Entity=function Entity(_world,_id){var uuid,componentBits=new BitSet(),systemBits=new BitSet(),world=_world,id=_id,entityManager=world.getEntityManager(),componentManager=world.getComponentManager();reset();this.getId=function(){return id};this.getComponentBits=function(){return componentBits};this.getSystemBits=function(){return systemBits};function reset(){systemBits.reset();componentBits.reset();uuid=Math.uuid()}this.toString=function(){return"Entity ["+id+"]"};this.addComponent=function(component,type){if(!(type instanceof ComponentType)){type=ComponentType.getTypeFor(component.getClass())}componentManager.addComponent(this,type,component);return this};this.removeComponent=function(component){var componentType;if(!(component instanceof ComponentType)){componentType=ComponentType.getTypeFor(component)}else{componentType=component}componentManager.removeComponent(this,componentType)};this.isActive=function(){return entityManager.isActive(this.id)};this.isEnabled=function(){return entityManager.isEnabled(this.id)};this.getComponent=function(type){var componentType;if(!(type instanceof ComponentType)){componentType=ComponentType.getTypeFor(type)}else{componentType=type}return componentManager.getComponent(this,componentType)};this.getComponents=function(fillBag){return componentManager.getComponentsFor(this,fillBag)};this.addToWorld=function(){world.addEntity(this)};this.changedInWorld=function(){world.changedEntity(this)};this.deleteFromWorld=function(){world.deleteEntity(this)};this.enable=function(){world.enable(this)};this.disable=function(){world.disable(this)};this.getUuid=function(){return uuid};this.getWorld=function(){return world}};module.exports=Entity})()},{"./ComponentType":6,"./utils/BitSet":23}],8:[function(require,module,exports){(function(){var Bag=require("./utils/Bag"),BitSet=require("./utils/BitSet"),Entity=require("./Entity"),Manager=require("./Manager");var EntityManager=function EntityManager(){Manager.call(this);var entities=new Bag(),disabled=new BitSet(),active,added,created,deleted,identifierPool=new IdentifierPool();this.initialize=function(){};this.createEntityInstance=function(){var entity=new Entity(this.world,identifierPool.checkOut());created++;return entity};this.added=function(entity){active++;added++;entities.set(entity.getId(),entity)};this.enabled=function(entity){disabled.clear(entity.getId())};this.disabled=function(entity){disabled.set(entity.getId())};this.deleted=function(entity){entities.set(entity.getId(),null);disabled.clear(entity.getId());identifierPool.checkIn(entity.getId());active--;deleted++};this.isActive=function(entityId){return entities.get(entityId)!==null};this.isEnabled=function(entityId){return !disabled.get(entityId)};this.getEntity=function(entityId){return entities.get(entityId)};this.getActiveEntityCount=function(){return active};this.getTotalCreated=function(){return created};this.getTotalAdded=function(){return added};this.getTotalDeleted=function(){return deleted};function IdentifierPool(){var ids=new Bag(),nextAvailableId=0;this.checkOut=function(){if(ids.size()){return ids.removeLast()}return nextAvailableId++};this.checkIn=function(id){ids.push(id)}}};EntityManager.prototype=Object.create(Manager.prototype);module.exports=EntityManager})()},{"./Entity":7,"./Manager":11,"./utils/Bag":22,"./utils/BitSet":23}],9:[function(require,module,exports){(function(){var EntityObserver=function EntityObserver(){this.added=function(entity){throw new Error("EntityObserver function added not implemented")};this.changed=function(entity){throw new Error("EntityObserver function changed not implemented")};this.deleted=function(entity){throw new Error("EntityObserver function deleted not implemented")};this.enabled=function(entity){throw new Error("EntityObserver function enabled not implemented")};this.disabled=function(entity){throw new Error("EntityObserver function disabled not implemented")}};module.exports=EntityObserver})()},{}],10:[function(require,module,exports){(function(){var Bag=require("./utils/Bag"),EntityObserver=require("./EntityObserver");var SystemIndexManager={INDEX:0,indices:{},getIndexFor:function(entitySystem){var index=this.indices[entitySystem];if(!index){index=this.INDEX++;this.indices[entitySystem]=index}return index}};var EntitySystem=function EntitySystem(_aspect){EntityObserver.call(this);this.world=null;var systemIndex=SystemIndexManager.getIndexFor(this.getClass()),actives=new Bag(),aspect=_aspect,allSet=aspect.getAllSet(),exclusionSet=aspect.getExclusionSet(),oneSet=aspect.getOneSet(),passive,dummy=allSet.isEmpty()&&oneSet.isEmpty(),me=this;function removeFromSystem(entity){actives.remove(entity);entity.getSystemBits().clear(systemIndex);me.removed(entity)}function insertToSystem(entity){actives.add(entity);entity.getSystemBits().set(systemIndex);me.inserted(entity)}this.begin=function(){};this.process=function(){if(this.checkProcessing()){this.begin();this.processEntities(actives);this.end()}};this.end=function(){};this.processEntities=function(entities){};this.checkProcessing=function(){};this.initialize=function(){};this.inserted=function(entity){};this.removed=function(entity){};this.check=function(entity){if(dummy){return}var contains=entity.getSystemBits().get(systemIndex);var interested=true;var componentBits=entity.getComponentBits();if(!allSet.isEmpty()){for(var i=allSet.nextSetBit(0);i>=0;i=allSet.nextSetBit(i+1)){if(!componentBits.get(i)){interested=false;break}}}if(!exclusionSet.isEmpty()&&interested){interested=!exclusionSet.intersects(componentBits)}if(!oneSet.isEmpty()){interested=oneSet.intersects(componentBits)}if(interested&&!contains){insertToSystem(entity)}else{if(!interested&&contains){removeFromSystem(entity)}}};this.added=function(entity){this.check(entity)};this.changed=function(entity){this.check(entity)};this.deleted=function(entity){if(entity.getSystemBits().get(systemIndex)){removeFromSystem(entity)}};this.disabled=function(entity){if(entity.getSystemBits().get(systemIndex)){removeFromSystem(entity)}};this.enabled=function(entity){this.check(entity)};this.setWorld=function(world){this.world=world};this.isPassive=function(){return passive};this.setPassive=function(passive){this.passive=passive};this.getActives=function(){return actives}};EntitySystem.prototype=Object.create(EntityObserver.prototype);module.exports=EntitySystem})()},{"./EntityObserver":9,"./utils/Bag":22}],11:[function(require,module,exports){(function(){var EntityObserver=require("./EntityObserver");var Manager=function Manager(){EntityObserver.call(this);this.world=null;this.initialize=function(){};this.setWorld=function(world){this.world=world};this.getWorld=function(){return this.world};this.added=function(entity){};this.changed=function(entity){};this.deleted=function(entity){};this.enabled=function(entity){};this.disabled=function(entity){}};Manager.prototype=Object.create(EntityObserver.prototype);module.exports=Manager})()},{"./EntityObserver":9}],12:[function(require,module,exports){(function(){var EntityManager=require("./EntityManager"),ComponentManager=require("./ComponentManager"),ComponentMapper=require("./ComponentMapper"),Bag=require("./utils/Bag");var World=function World(){var entityManager=new EntityManager(),componentManager=new ComponentManager(),managers={},managersBag=new Bag(),systems={},systemsBag=new Bag(),added=new Bag(),changed=new Bag(),deleted=new Bag(),enable=new Bag(),disable=new Bag(),delta=0;this.initialize=function(){var i=managersBag.size();while(i--){managersBag.get(i).initialize()}i=systemsBag.size();while(i--){systemsBag.get(i).initialize()}};this.getEntityManager=function(){return entityManager};this.getComponentManager=function(){return componentManager};this.setManager=function(manager){manager.setWorld(this);managers[manager.getClass()]=manager;managersBag.add(manager);return manager};this.getManager=function(managerType){return managers[managerType]||false};this.deleteManager=function(manager){delete managers[manager.getClass()];managersBag.remove(manager)};this.setDelta=function(d){delta=d};this.getDelta=function(){return delta};this.addEntity=function(entity){added.add(entity)};this.changedEntity=function(entity){changed.add(entity)};this.deleteEntity=function(entity){added.remove(entity)};this.enableEntity=function(entity){enable.add(entity)};this.disableEntity=function(entity){disable.add(entity)};this.createEntity=function(){return entityManager.createEntityInstance()};this.getEntity=function(id){return entityManager.getEntity(id)};this.getSystems=function(){return systemsBag};this.setSystem=function(system,passive){passive=passive||false;system.setWorld(this);system.setPassive(passive);systems[system.getClass()]=system;systemsBag.add(system);return system};this.getSystem=function(systemType){return systems[systemType]||false};this.deleteSystem=function(system){delete systems[system.getClass()];systemsBag.remove(system)};function notifySystems(performer,entity){var i=systemsBag.size();while(i--){performer.perform(systemsBag.get(i),entity)}}function notifyManagers(performer,entity){var i=managersBag.size();while(i--){performer.perform(managersBag.get(i),entity)}}function check(entities,performer){if(!entities.size()){return}var i=entities.size();while(i--){var entity=entities.get(i);notifyManagers(performer,entity);notifySystems(performer,entity)}entities.clear()}this.process=function(){check(added,{perform:function(observer,entity){observer.added(entity)}});check(changed,{perform:function(observer,entity){observer.changed(entity)}});check(disable,{perform:function(observer,entity){observer.disabled(entity)}});check(enable,{perform:function(observer,entity){observer.enabled(entity)}});check(deleted,{perform:function(observer,entity){observer.deleted(entity)}});componentManager.clean();var i=systemsBag.size();while(i--){var system=systemsBag.get(i);if(!system.isPassive()){system.process()}}};this.getMapper=function(type){return ComponentMapper.getFor(type,this)};this.setManager(componentManager);this.setManager(entityManager)};module.exports=World})()},{"./ComponentManager":4,"./ComponentMapper":5,"./EntityManager":8,"./utils/Bag":22}],13:[function(require,module,exports){(function(){var HashMap=require("./../utils/HashMap"),Bag=require("./../utils/Bag"),Manager=require("./../Manager");var GroupManager=function GroupManager(){Manager.call(this);var entitiesByGroup=new HashMap(),groupsByEntity=new HashMap();this.initialize=function(){};this.add=function(entity,group){var entities=entitiesByGroup.get(group);if(entities===null){entities=new Bag();entitiesByGroup.put(group,entities)}entities.add(entity);var groups=groupsByEntity.get(entity);if(groups===null){groups=new Bag();groupsByEntity.put(entity,groups)}groups.add(group)};this.remove=function(entity,group){var entities=entitiesByGroup.get(group);if(entities!==null){entities.remove(entity)}var groups=groupsByEntity.get(entity);if(groups!==null){groups.remove(group)}};this.removeFromAllGroups=function(entity){var groups=groupsByEntity.get(entity);if(groups!==null){var i=groups.size();while(i--){var entities=entitiesByGroup.get(groups.get(i));if(entities!==null){entities.remove(entity)}}groups.clear()}};this.getEntities=function(group){var entities=entitiesByGroup.get(group);if(entities===null){entities=new Bag();entitiesByGroup.put(group,entities)}return entities};this.getGroups=function(entity){return groupsByEntity.get(entity)};this.isInAnyGroup=function(entity){return this.getGroups(entity)!==null};this.isInGroup=function(entity,group){group=group||null;if(group===null){return false}var groups=groupsByEntity.get(entity);var i=groups.size();while(i--){if(group===groups.get(i)){return true}}};this.deleted=function(entity){this.removeFromAllGroups(entity)}};GroupManager.prototype=Object.create(Manager.prototype);module.exports=GroupManager})()},{"./../Manager":11,"./../utils/Bag":22,"./../utils/HashMap":24}],14:[function(require,module,exports){(function(){var HashMap=require("./../utils/HashMap"),Bag=require("./../utils/Bag"),Manager=require("./../Manager");var PlayerManager=function PlayerManager(){Manager.call(this);var playerByEntity=new HashMap(),entitiesByPlayer=new HashMap();this.setPlayer=function(entity,player){playerByEntity.put(entity,player);var entities=entitiesByPlayer.get(player);if(entities===null){entities=new Bag();entitiesByPlayer.put(player,entities)}entities.add(entity)};this.getEntitiesOfPlayer=function(player){var entities=entitiesByPlayer.get(player);if(entities===null){entities=new Bag()}return entities};this.removeFromPlayer=function(entity){var player=playerByEntity.get(entity);if(player!==null){var entities=entitiesByPlayer.get(player);if(entities!==null){entities.remove(entity)}}};this.getPlayer=function(entity){return playerByEntity.get(entity)};this.initialize=function(){};this.deleted=function(entity){this.removeFromPlayer(entity)}};PlayerManager.prototype=Object.create(Manager.prototype);module.exports=PlayerManager})()},{"./../Manager":11,"./../utils/Bag":22,"./../utils/HashMap":24}],15:[function(require,module,exports){(function(){var HashMap=require("./../utils/HashMap"),Manager=require("./../Manager");var TagManager=function TagManager(){Manager.call(this);var entitiesByTag=new HashMap(),tagsByEntity=new HashMap();this.register=function(tag,entity){entitiesByTag.put(tag,entity);tagsByEntity.put(entity,tag)};this.unregister=function(tag){tagsByEntity.remove(entitiesByTag.remove(tag))};this.isRegistered=function(tag){return entitiesByTag.containsKey(tag)};this.getEntity=function(tag){return entitiesByTag.get(tag)};this.getRegisteredTags=function(){return tagsByEntity.values()};this.deleted=function(entity){var removedTag=tagsByEntity.remove(entity);if(removedTag!==null){entitiesByTag.remove(removedTag)}};this.initialize=function(){}};TagManager.prototype=Object.create(Manager.prototype);module.exports=TagManager})()},{"./../Manager":11,"./../utils/HashMap":24}],16:[function(require,module,exports){(function(){var HashMap=require("./../utils/HashMap"),Bag=require("./../utils/Bag"),Manager=require("./../Manager");var TeamManager=function TeamManager(){Manager.call(this);var playersByTeam=new HashMap(),teamByPlayer=new HashMap();this.initialize=function(){};this.getTeam=function(player){return teamByPlayer.get(player)};this.setTeam=function(player,team){this.removeFromTeam(player);teamByPlayer.put(player,team);var players=playersByTeam.get(team);if(players===null){players=new Bag();playersByTeam.put(team,players)}players.add(player)};this.getPlayers=function(team){return playersByTeam.get(team)};this.removeFromTeam=function(player){var team=teamByPlayer.remove(player);if(team!==null){var players=playersByTeam.get(team);if(players!==null){players.remove(player)}}}};TeamManager.prototype=Object.create(Manager.prototype);module.exports=TeamManager})()},{"./../Manager":11,"./../utils/Bag":22,"./../utils/HashMap":24}],17:[function(require,module,exports){(function(){var EntitySystem=require("./../EntitySystem");var DelayedEntityProcessingSystem=function DelayedEntityProcessingSystem(_aspect){EntitySystem.call(this,_aspect)};DelayedEntityProcessingSystem.prototype=Object.create(EntitySystem.prototype);module.exports=DelayedEntityProcessingSystem})()},{"./../EntitySystem":10}],18:[function(require,module,exports){var process=require("__browserify_process");(function(){var EntitySystem=require("./../EntitySystem");var EntityProcessingSystem=function EntityProcessingSystem(_aspect){EntitySystem.call(this,_aspect);this.process=function(){};this.processEntities=function(entities){var i=entities.size();while(--i){process(entities.get(i))}};this.checkProcessing=function(){return true}};EntityProcessingSystem.prototype=Object.create(EntitySystem.prototype);module.exports=EntityProcessingSystem})()},{"./../EntitySystem":10,"__browserify_process":25}],19:[function(require,module,exports){(function(){var EntitySystem=require("./../EntitySystem");var IntervalEntityProcessingSystem=function IntervalEntityProcessingSystem(_aspect){EntitySystem.call(this,_aspect)};IntervalEntityProcessingSystem.prototype=Object.create(EntitySystem.prototype);module.exports=IntervalEntityProcessingSystem})()},{"./../EntitySystem":10}],20:[function(require,module,exports){(function(){var EntitySystem=require("./../EntitySystem");var IntervalEntitySystem=function IntervalEntitySystem(_aspect,_interval){EntitySystem.call(this,_aspect)};IntervalEntitySystem.prototype=Object.create(EntitySystem.prototype);module.exports=IntervalEntitySystem})()},{"./../EntitySystem":10}],21:[function(require,module,exports){(function(){var Aspect=require("./../Aspect"),EntitySystem=require("./../EntitySystem");var VoidEntitySystem=function VoidEntitySystem(_aspect){EntitySystem.call(this,Aspect.getEmpty());this.processEntities=function(entities){this.processSystem()};this.processSystem=function(){};this.checkProcessing=function(){return true}};VoidEntitySystem.prototype=Object.create(EntitySystem.prototype);module.exports=VoidEntitySystem})()},{"./../Aspect":2,"./../EntitySystem":10}],22:[function(require,module,exports){(function(){var Bag=function Bag(){var data=[];this.remove=function(index){var response=true;if(typeof index==="object"){index=data.indexOf(index)}else{if(index!==-1){response=data[index]}}if(index!==-1){data.splice(index,1)}else{response=false}return response};this.removeLast=function(){if(data.length>0){var obj=data[data.length-1];data.splice(data.length-1,1);return obj}return null};this.contains=function(obj){return data.indexOf(obj)!==-1};this.removeAll=function(bag){var modified=false,n=bag.size();for(var i=0;i!==n;++i){var obj=bag.get(i),index=data.indexOf(obj);if(index!==-1){this.remove(index);modified=true}}return modified};this.get=function(index){return data[index]?data[index]:null};this.size=function(){return data.length};this.capacity=function(){return Number.MAX_VALUE};this.isIndexWithinBounds=function(index){return index<this.getCapacity()};this.isEmpty=function(){return data.length===0};this.add=function(obj){data.push(obj)};this.set=function(index,obj){data[index]=obj};this.ensureCapacity=function(){};this.clear=function(){data=[]};this.addAll=function(bag){var i=bag.size();while(i--){this.add(bag.get(i))}}};module.exports=Bag})()},{}],23:[function(require,module,exports){(function(){var BitSet=function BitSet(){this._words=[]};var BITS_OF_A_WORD=32,SHIFTS_OF_A_WORD=5;var whichWord=function(pos){return pos>>SHIFTS_OF_A_WORD};var mask=function(pos){return 1<<(pos&31)};BitSet.prototype.set=function(pos){console.assert?console.assert(pos>=0,"position must be non-negative"):null;var which=whichWord(pos),words=this._words;return words[which]=words[which]|mask(pos)};BitSet.prototype.clear=function(pos){console.assert(pos>=0,"position must be non-negative");var which=whichWord(pos),words=this._words;return words[which]=words[which]&~mask(pos)};BitSet.prototype.get=function(pos){console.assert(pos>=0,"position must be non-negative");var which=whichWord(pos),words=this._words;return words[which]&mask(pos)};BitSet.prototype.words=function(){return this._words.length};BitSet.prototype.cardinality=function(){var next,sum=0,arrOfWords=this._words,maxWords=this.words();for(next=0;next<maxWords;next++){var nextWord=arrOfWords[next]||0;for(var bits=nextWord;bits!==0;bits&=(bits-1)){sum++}}return sum};BitSet.prototype.reset=function(){this._words=[]};BitSet.prototype.or=function(set){if(this===set){return this}var next,commons=Math.min(this.words(),set.words());for(next=0;next<commons;next++){this._words[next]|=set._words[next]}if(commons<set.words()){this._words=this._words.concat(set._words.slice(commons,set.words()))}return this};BitSet.prototype.and=function(set){if(this===set){return this}var next,commons=Math.min(this.words(),set.words()),words=this._words;for(next=0;next<commons;next++){words[next]&=set._words[next]}if(commons>set.words()){var len=commons-set.words();while(len--){words.pop()}}return this};BitSet.prototype.xor=function(set){if(this===set){return this}var next,commons=Math.min(this.words(),set.words());for(next=0;next<commons;next++){this._words[next]^=set._words[next]}if(commons<set.words()){this._words=this._words.concat(set._words.slice(commons,set.words()))}return this};BitSet.prototype.nextSetBit=function(pos){console.assert(pos>=0,"position must be non-negative");var next=whichWord(pos),words=this._words;if(next>=words.length){return -1}var firstWord=words[next],maxWords=this.words(),bit;if(firstWord){for(bit=pos&31;bit<BITS_OF_A_WORD;bit+=1){if((firstWord&mask(bit))){return(next<<SHIFTS_OF_A_WORD)+bit}}}for(next=next+1;next<maxWords;next+=1){var nextWord=words[next];if(nextWord){for(bit=0;bit<BITS_OF_A_WORD;bit+=1){if((nextWord&mask(bit))!==0){return(next<<SHIFTS_OF_A_WORD)+bit}}console.assert(-1,"it should have found some bit in this word: "+nextWord)}}return -1};BitSet.prototype.prevSetBit=function(pos){console.assert(pos>=0,"position must be non-negative");var prev=whichWord(pos),words=this._words;if(prev>=words.length){return -1}var lastWord=words[prev],bit;if(lastWord){for(bit=pos&31;bit>=0;bit--){if((lastWord&mask(bit))){return(prev<<SHIFTS_OF_A_WORD)+bit}}}for(prev=prev-1;prev>=0;prev--){var prevWord=words[prev];if(prevWord){for(bit=BITS_OF_A_WORD-1;bit>=0;bit--){if((prevWord&mask(bit))!==0){return(prev<<SHIFTS_OF_A_WORD)+bit}}console.assert(-1,"it should have found some bit in this word: "+prevWord)}}return -1};BitSet.prototype.toString=function(radix){radix=radix||10;return"["+this._words.toString()+"]"};module.exports=BitSet})()},{}],24:[function(require,module,exports){(function(){function HashMap(){this.clear()}HashMap.prototype={constructor:HashMap,get:function(key){var data=this._data[this.hash(key)];return data&&data[1]},put:function(key,value){this._data[this.hash(key)]=[key,value]},containsKey:function(key){return this.hash(key) in this._data},remove:function(key){delete this._data[this.hash(key)]},type:function(key){var str=Object.prototype.toString.call(key);var type=str.slice(8,-1).toLowerCase();if(type==="domwindow"&&!key){return key+""}return type},count:function(){var n=0;for(var key in this._data){n++}return n},clear:function(){this._data={}},hash:function(key){switch(this.type(key)){case"undefined":case"null":case"boolean":case"number":case"regexp":return key+"";case"date":return":"+key.getTime();case"string":return'"'+key;case"array":var hashes=[];for(var i=0;i<key.length;i++){hashes[i]=this.hash(key[i])}return"["+hashes.join("|");case"object":default:if(!key._hmuid_){key._hmuid_=++HashMap.uid;hide(key,"_hmuid_")}return"{"+key._hmuid_}},forEach:function(func){for(var key in this._data){var data=this._data[key];func(data[1],data[0])}}};HashMap.uid=0;function hide(obj,prop){if(Object.defineProperty){Object.defineProperty(obj,prop,{enumerable:false})}}module.exports=HashMap})()},{}],25:[function(require,module,exports){var process=module.exports={};process.nextTick=(function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}if(canPost){var queue=[];window.addEventListener("message",function(ev){if(ev.source===window&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}})();process.title="browser";process.browser=true;process.env={};process.argv=[];process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}]},{},[1])(1)});